本題的情境與作業一第三題的一樣,但現在我們不做船舶排班演算法的規劃,而是做船舶作業 時間的預測。在實務上,一條船舶要花多少時間才能完成其進港、出港、移泊作業,當然是做完才會知 道,因此排程時是根據給定的船舶資訊與工作資訊,然而我們也可以利用某些預測方法去預測出預期的 作業時間,再根據預期的作業時間來做排程規劃。

在本題中,我們將利用如下高度簡化的預測模型來預測船舶的作業時間。針對進港船舶的作業時 間,預測模型為
y = do + a1 x Moving DST + 2 × ShipWeight + 03 x Danger + 44 x Night。

出港船舶作業時間的預測模型為
y = bo + bi x MovingDST + by x ShipWeight + b3 x Danger + b4 x Night。

移泊船舶作業時間的預測模型則為
y = Co + CG x Moving DST + 2 x ShipWeight + C3 x Danger + C4 x Night。

上述作業時間預測模型的變數定義如下:
• MovingDST:即船舶行駛的移動距離,單位為公里。已知迴船池和外航站之間的距離為t,迴
船池和碼頭之間的距離則如圖2所示,垂直方向行駛的距離每段(迴船池與碼頭1、迴船池與碼 頭2、碼頭與碼頭+2、碼頭m-1 與迴船池、碼頭m 與迴船池)皆為ta,水平方向行駛的 距離每段(碼頭與碼頭i+1)則皆為。舉例來說,一條從一港口進港要抵達碼頭6的進港船 的航行距離為ti + 3t2+t3、一條從碼頭2要移泊到碼頭5的移泊船的航行距離為2t2+t3。

• ShipWeight:即船舶的重量噸位,單位為噸。

• Danger:即船舶「是否具有危險性,透過船舶資訊中「是否裝載危險貨物」來判斷,是則為1, 否則為0。

• Night:即船舶是否在夜間出發,其夜間定義在於工作資訊中船舶的可出發時間是否在晚上六點到 清晨六點之間(包含晚上六點和清晨六點),是則為1,否則為0。
由於預測模型的係數可能非整數,因此按照公式預測出值之後,請將之無條件捨去到整數位做為預測 的作業時間。
輸入輸出格式

系統會提供一共 15 組測試資料,每組測試資料裝在一個檔案裡。在每個檔案中會有若干行,第一行是 給定的模型參數與係數,共有19個數字,依序為碼頭數m、進港預測模型的係數 do 到 a4 出港預測模型的係數 bo 到 b4 移泊預測模型的係數 0 到 ca 以及距離長度 、ts、t3,任兩個數字之間用一個逗點 隔開。第二行會有一個檔案路徑的字串,表示船舶資訊檔案的存放位置。第三行會有一個檔案路徑的字 串,表示工作資訊檔案的存放位置。十五個預測模型的參數都是介於-1000 到1000 之間的實數(可能 非整數),me{2,4,...... 200}、三個距離長度則為介於1到1000 之間的整數。

在本題中,船舶資訊檔案內容記載形式如同作業一第三題,工作資訊檔案內容記載形式也大同小 異,差別之處僅有兩處。首先,工作資訊中不包含船舶作業時間;其次,船舶編號以外的記載資訊可能 會有缺值,若有缺值時則該值將會被空字串取代。舉例來說, AFEUTI, 19:40,T,,120 TRUCXS,,0,1,15 KCUHIC ,21:20,1,1,
表示AFEUTI 的進港港口資訊缺失、TRUCXS 的可出發時間缺失,而KCUHIC 的目標碼頭資訊缺失。 若一個工作有任何一個缺失值,我們就放棄預測其作業時間。

在依序讀入船舶資訊與工作資訊後,請分兩列輸出運算結果。在第一列,請依序輸出每個工作的預 測作業時間(按照工作資訊檔案中逐行的順序),若遇有缺值者則輸出-1。換言之,若工作資訊檔案總 計有n個工作,則第一列就會有共輸出n個數字。任兩個數字之間用一個逗點隔開,當然最後一個數 字後面沒有逗點。在第二列請輸出總共有幾個工作有缺值。

舉例來說,若 AnotherAnotherShip Sample.txt 為船舶資訊檔案,其內容為
AFECXS,25500, TAIWAN, LING KUNG, Y AFEUTI , 20000, JAPAN , HIRONA OISHI,N TRUCXS , 13700, THAILAND, SAWADIKA , Y THUEDC , 18600, TAIWAN, YENYENER , N KCUHIC ,78600, THAILAND , KAPUNKA , Y ITCUOW , 12000,TAIWAN, JASON WANG , Y ZCHCBE,88888, JAPAN, KANAKO,N

而Another Another WorkSample.txt 為工作資訊檔案,其內容為
AFECXS, 10:00,1,1,12 AFEUTI, 19:40, T, 120 TRUCXS,,0,1,15 KCUHIC ,21:20,1,1,150 ZCHCBE,00:00,0,2,198
則如果輸入是 200,5,0.0225,0.007,5,5,3,0.015,0.007,4,5,4,0.02,0.005,7,4,7,1,9 AnotherAnotherShipSample.txt AnotherAnotherWorkSample.txt
則最後輸出應該是 188,-1,-1,567,630

出題教授：台大資管孔令傑教授
